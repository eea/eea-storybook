(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"./node_modules/@plone/volto/src/components/theme/View/EventView.jsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/react/index.js");var prop_types=__webpack_require__("./node_modules/@plone/volto/node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),dist=__webpack_require__("./node_modules/@formatjs/macro/dist/index.js"),injectIntl=__webpack_require__("./node_modules/react-intl/lib/components/injectIntl.js"),helpers=__webpack_require__("./node_modules/@plone/volto/src/helpers/index.js"),Container=__webpack_require__("./node_modules/semantic-ui-react/dist/es/elements/Container/Container.js"),Image=__webpack_require__("./node_modules/semantic-ui-react/dist/es/elements/Image/Image.js"),Segment=__webpack_require__("./node_modules/semantic-ui-react/dist/es/elements/Segment/Segment.js"),Header=__webpack_require__("./node_modules/semantic-ui-react/dist/es/elements/Header/Header.js"),List=__webpack_require__("./node_modules/semantic-ui-react/dist/es/elements/List/List.js"),moment=__webpack_require__("./node_modules/moment/moment.js"),moment_default=__webpack_require__.n(moment),useIntl=__webpack_require__("./node_modules/react-intl/lib/components/useIntl.js"),classnames=__webpack_require__("./node_modules/@plone/volto/node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),src=__webpack_require__("./node_modules/rrule/dist/esm/src/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),datesForDisplay=function(start,end){var mStart=moment_default()(start),mEnd=moment_default()(end);return mStart.isValid()&&mEnd.isValid()?{sameDay:mStart.isSame(mEnd,"day"),sameTime:mStart.isSame(mEnd,"minute"),startDate:mStart.format("ll"),startTime:mStart.format("LT"),endDate:mEnd.format("ll"),endTime:mEnd.format("LT")}:null},When=function(_ref){var start=_ref.start,end=_ref.end,whole_day=_ref.whole_day,open_end=_ref.open_end,intl=Object(useIntl.a)();moment_default.a.locale(intl.locale);var datesInfo=datesForDisplay(start,end);if(datesInfo)return Object(jsx_runtime.jsx)("p",{className:classnames_default()("event-when",{"same-day":datesInfo.sameDay,"same-time":datesInfo.sameTime,"whole-day":whole_day,"open-end":open_end}),children:datesInfo.sameDay?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[whole_day&&Object(jsx_runtime.jsx)("span",{className:"start-date",children:datesInfo.startDate}),open_end&&!whole_day&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("span",{className:"start-date",children:datesInfo.startDate})," from ",Object(jsx_runtime.jsx)("span",{className:"start-time",children:datesInfo.startTime})]}),!(whole_day||open_end)&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("span",{className:"start-date",children:datesInfo.startDate})," from ",Object(jsx_runtime.jsx)("span",{className:"start-time",children:datesInfo.startTime})," to ",Object(jsx_runtime.jsx)("span",{className:"end-time",children:datesInfo.endTime})]})]}):Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)("span",{className:"start",children:[Object(jsx_runtime.jsx)("span",{className:"start-date",children:datesInfo.startDate}),!whole_day&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("span",{children:" "}),Object(jsx_runtime.jsx)("span",{className:"start-time",children:datesInfo.startTime})]})]}),!open_end&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[" to ",Object(jsx_runtime.jsxs)("span",{className:"end",children:[Object(jsx_runtime.jsx)("span",{className:"end-date",children:datesInfo.endDate}),!whole_day&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("span",{children:" "}),Object(jsx_runtime.jsx)("span",{className:"end-time",children:datesInfo.endTime})]})]})]})]})})};When.displayName="When",When.propTypes={start:prop_types_default.a.string.isRequired,end:prop_types_default.a.string,whole_day:prop_types_default.a.bool,open_end:prop_types_default.a.bool};var Recurrence=function(_ref2){var recurrence=_ref2.recurrence,start=_ref2.start;recurrence.indexOf("DTSTART")<0&&(recurrence=src.a.optionsToString({dtstart:new Date(start)})+"\n"+recurrence);var rrule=Object(src.d)(recurrence,{unfold:!0,forceset:!0});return Object(jsx_runtime.jsx)(List.a,{items:rrule.all().map((function(date){return datesForDisplay(date)})).map((function(date){return date.startDate}))})};Recurrence.displayName="Recurrence",Recurrence.propTypes={recurrence:prop_types_default.a.string.isRequired,start:prop_types_default.a.string.isRequired},When.__docgenInfo={description:"",methods:[],displayName:"When",props:{start:{type:{name:"string"},required:!0,description:""},end:{type:{name:"string"},required:!1,description:""},whole_day:{type:{name:"bool"},required:!1,description:""},open_end:{type:{name:"bool"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["node_modules/@plone/volto/src/components/theme/View/EventDatesInfo.jsx"]={name:"When",docgenInfo:When.__docgenInfo,path:"node_modules/@plone/volto/src/components/theme/View/EventDatesInfo.jsx"}),Recurrence.__docgenInfo={description:"",methods:[],displayName:"Recurrence",props:{recurrence:{type:{name:"string"},required:!0,description:""},start:{type:{name:"string"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["node_modules/@plone/volto/src/components/theme/View/EventDatesInfo.jsx"]={name:"Recurrence",docgenInfo:Recurrence.__docgenInfo,path:"node_modules/@plone/volto/src/components/theme/View/EventDatesInfo.jsx"});var messages=Object(dist.defineMessages)({what:{id:"event_what",defaultMessage:"What"},when:{id:"event_when",defaultMessage:"When"},allDates:{id:"event_alldates",defaultMessage:"All dates"},where:{id:"event_where",defaultMessage:"Where"},contactName:{id:"event_contactname",defaultMessage:"Contact Name"},contactPhone:{id:"event_contactphone",defaultMessage:"Contact Phone"},attendees:{id:"event_attendees",defaultMessage:"Attendees"},website:{id:"event_website",defaultMessage:"Website"},visitWebsite:{id:"visit_external_website",defaultMessage:"Visit external website"}}),EventView=function(_ref){var intl=_ref.intl,content=_ref.content;return Object(jsx_runtime.jsxs)(Container.a,{className:"view-wrapper event-view",children:[content.title&&Object(jsx_runtime.jsx)("h1",{className:"documentFirstHeading",children:content.title}),content.description&&Object(jsx_runtime.jsx)("p",{className:"documentDescription",children:content.description}),content.image&&Object(jsx_runtime.jsx)(Image.a,{className:"document-image",src:content.image.scales.thumb.download,floated:"right"}),Object(jsx_runtime.jsxs)(Segment.a,{floated:"right",children:[content.subjects.length>0&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(Header.a,{dividing:!0,sub:!0,children:intl.formatMessage(messages.what)}),Object(jsx_runtime.jsx)(List.a,{items:content.subjects})]}),Object(jsx_runtime.jsx)(Header.a,{dividing:!0,sub:!0,children:intl.formatMessage(messages.when)}),Object(jsx_runtime.jsx)(When,{start:content.start,end:content.end,whole_day:content.whole_day,open_end:content.open_end}),content.recurrence&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(Header.a,{dividing:!0,sub:!0,children:intl.formatMessage(messages.allDates)}),Object(jsx_runtime.jsx)(Recurrence,{recurrence:content.recurrence,start:content.start})]}),content.location&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(Header.a,{dividing:!0,sub:!0,children:intl.formatMessage(messages.where)}),Object(jsx_runtime.jsx)("p",{children:content.location})]}),content.contact_name&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(Header.a,{dividing:!0,sub:!0,children:intl.formatMessage(messages.contactName)}),Object(jsx_runtime.jsx)("p",{children:content.contact_email?Object(jsx_runtime.jsx)("a",{href:`mailto:${content.contact_email}`,children:content.contact_name}):content.contact_name})]}),content.contact_phone&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(Header.a,{dividing:!0,sub:!0,children:intl.formatMessage(messages.contactPhone)}),Object(jsx_runtime.jsx)("p",{children:content.contact_phone})]}),content.attendees.length>0&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(Header.a,{dividing:!0,sub:!0,children:intl.formatMessage(messages.attendees)}),Object(jsx_runtime.jsx)(List.a,{items:content.attendees})]}),content.event_url&&Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(Header.a,{dividing:!0,sub:!0,children:intl.formatMessage(messages.website)}),Object(jsx_runtime.jsx)("p",{children:Object(jsx_runtime.jsx)("a",{href:content.event_url,target:"_blank",rel:"noopener noreferrer",children:intl.formatMessage(messages.visitWebsite)})})]})]}),content.text&&Object(jsx_runtime.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(helpers.o)(content.text.data)}})]})};EventView.displayName="EventView",EventView.propTypes={content:prop_types_default.a.shape({title:prop_types_default.a.string,description:prop_types_default.a.string,text:prop_types_default.a.shape({data:prop_types_default.a.string}),attendees:prop_types_default.a.arrayOf(prop_types_default.a.string).isRequired,contact_email:prop_types_default.a.string,contact_name:prop_types_default.a.string,contact_phone:prop_types_default.a.string,end:prop_types_default.a.string.isRequired,event_url:prop_types_default.a.string,location:prop_types_default.a.string,open_end:prop_types_default.a.bool,recurrence:prop_types_default.a.any,start:prop_types_default.a.string.isRequired,subjects:prop_types_default.a.arrayOf(prop_types_default.a.string).isRequired,whole_day:prop_types_default.a.bool}).isRequired},EventView.__docgenInfo={description:"EventView view component class.\n@function EventView\n@params {object} content Content object.\n@returns {string} Markup of the component.",methods:[],displayName:"EventView",props:{content:{type:{name:"shape",value:{title:{name:"string",required:!1},description:{name:"string",required:!1},text:{name:"shape",value:{data:{name:"string",required:!1}},required:!1},attendees:{name:"arrayOf",value:{name:"string"},required:!0},contact_email:{name:"string",required:!1},contact_name:{name:"string",required:!1},contact_phone:{name:"string",required:!1},end:{name:"string",required:!0},event_url:{name:"string",required:!1},location:{name:"string",required:!1},open_end:{name:"bool",required:!1},recurrence:{name:"any",required:!1},start:{name:"string",required:!0},subjects:{name:"arrayOf",value:{name:"string"},required:!0},whole_day:{name:"bool",required:!1}}},required:!0,description:""}}};__webpack_exports__.default=Object(injectIntl.c)(EventView);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["node_modules/@plone/volto/src/components/theme/View/EventView.jsx"]={name:"EventView",docgenInfo:EventView.__docgenInfo,path:"node_modules/@plone/volto/src/components/theme/View/EventView.jsx"})}}]);